# 性能

## 资源性能

### 磁盘性能优化

1. 尽可能减少文件 IO

- 对于不可变的数据缓存。
- 对于 SharedPreferences 这种每次调用 commit 都会触发一次 IO，所以尽可能的合并 commit 操作。
- ObjectOutputStream 序列化时对于对象内部每一个结构都会调用一次 IO，导致大量的 IO 操作。因此需要先序列化，再一次性写入。
- 读取文件时 buffer 太小，会导致多次 IO。

### 内存

1. 避免内存泄漏

- Activity 内类导致 Activity 泄漏。
- WebView 的内存泄漏。
- Activity 被当成 context 持有导致的内存泄漏。

### 网络

1. 如何降低带宽压力

- 使用缓存策略，避免重复下载
- 使用压缩策略优化资源流量


### CPU

1. 减低不必要核心需求的 CPU 消耗，例如息屏后停止一些 UI 上的计算。

### 电池

## 交互类性能

- 文件操作放到异步线程，以避免主线程卡顿。

## 页面卡顿如何优化思路

页面卡顿两个方面，第一大量非 UI 相关操作阻塞主线程，第二 UI 操作太负责，这两点都会导致 UI 在每一次 doFrame 不及时，进而引发卡顿现象。


